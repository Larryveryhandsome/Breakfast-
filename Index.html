<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>隨機早餐選擇器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
        }
        .container {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #result {
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>隨機早餐選擇器</h1>
        <p>每天早餐總價格不超過 150 元（餐點 + 飲料）</p>
        <button onclick="generateBreakfast()">換一組</button>
        <div id="result"></div>
    </div>

    <script>
        // 餐點資料
        const meals = [
            { name: "奔牛起司堡", price: 115 },
            { name: "雙層牛肉起司堡", price: 110 },
            { name: "牛肉起司堡", price: 85 },
            { name: "原味咔滋雞腿蛋堡", price: 80 },
            { name: "辣味咔滋雞腿蛋堡", price: 80 },
            { name: "哈辣雞腿蛋堡", price: 80 },
            { name: "椒麻雞排蛋堡", price: 80 },
            { name: "起司雞排蛋堡", price: 75 },
            { name: "厚切雞排蛋堡", price: 75 },
            { name: "醬燒雞腿蛋堡", price: 75 },
            { name: "金蝦黑堡", price: 85 },
            { name: "起飛嫩雞堡", price: 85 },
            { name: "雙層豬肉起司堡", price: 70 },
            { name: "總匯蛋堡", price: 70 },
            { name: "里肌蛋堡", price: 65 },
            { name: "燻雞蛋堡", price: 60 },
            { name: "香雞蛋堡", price: 60 },
            { name: "薯餅蛋堡", price: 55 },
            { name: "鮪魚蛋堡", price: 50 },
            { name: "豬肉蛋堡", price: 50 },
            { name: "培根蛋堡", price: 50 },
            { name: "鮮蔬蛋堡", price: 40 },
            // 套餐系列（價格已包含20元飲料）
            { name: "美式脆雞堡套餐(原味)", price: 130 },
            { name: "金蝦黑堡套餐", price: 125 },
            { name: "起飛嫩雞堡套餐", price: 125 },
            { name: "義式檸檬雞柳麵套餐(紅醬)", price: 120 },
            { name: "招牌總匯套餐", price: 110 },
            { name: "嫩煎里肌鐵板麺套餐(黑胡椒)", price: 100 }
        ];

        // 飲料資料（僅列出中杯價格，其他杯型根據規則計算）
        const drinks = [
            { name: "紅茶", price: 20, sizeRules: [5, 10] }, // 中杯+5=大杯, 大杯+10=特大杯
            { name: "無糖綠茶", price: 20, sizeRules: [5, 10] },
            { name: "豆漿", price: 20, sizeRules: [5, 10] },
            { name: "米漿", price: 20, sizeRules: [5, 10] },
            { name: "柳橙汁", price: 20, sizeRules: [5, 10] },
            { name: "奶茶", price: 25, sizeRules: [5, 10] },
            { name: "豆奶茶", price: 25, sizeRules: [15, 5] },
            { name: "鮮奶茶", price: 35, sizeRules: [10, 10] },
            { name: "拿鐵咖啡", price: 60, sizeRules: [10, 10] },
            { name: "美式咖啡", price: 45, sizeRules: [10, 10] },
            { name: "鴛鴦奶茶", price: 40, sizeRules: [10, 10] },
            { name: "鲜奶", price: 55, sizeRules: [0, 0] } // 僅中杯
        ];

        const sizes = ["中杯", "大杯", "特大杯"];

        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function calculateDrinkPrice(drink, sizeIndex) {
            if (sizeIndex === 0) return drink.price; // 中杯
            if (sizeIndex === 1) return drink.price + drink.sizeRules[0]; // 大杯
            if (drink.name === "鲜奶") return drink.price; // 鮮奶無大杯或特大杯
            return drink.price + drink.sizeRules[0] + drink.sizeRules[1]; // 特大杯
        }

        function generateBreakfast() {
            let totalPrice = 0;
            let meal, drink, drinkSizeIndex;

            do {
                meal = getRandomItem(meals);
                drink = getRandomItem(drinks);
                // 隨機選擇杯型，但鮮奶只有中杯
                drinkSizeIndex = drink.name === "鲜奶" ? 0 : Math.floor(Math.random() * 3);
                totalPrice = meal.price + calculateDrinkPrice(drink, drinkSizeIndex);

                // 套餐已包含20元飲料，若選其他飲料需補差價
                if (meal.name.includes("套餐")) {
                    const drinkExtra = calculateDrinkPrice(drink, drinkSizeIndex) - 20;
                    totalPrice = meal.price + (drinkExtra > 0 ? drinkExtra : 0);
                }
            } while (totalPrice > 150);

            const drinkSize = sizes[drinkSizeIndex];
            const drinkPrice = calculateDrinkPrice(drink, drinkSizeIndex);
            const result = `
                <p><strong>餐點:</strong> ${meal.name} - ${meal.price} 元</p>
                <p><strong>飲料:</strong> ${drink.name} (${drinkSize}) - ${drinkPrice} 元</p>
                <p><strong>總價格:</strong> ${totalPrice} 元</p>
            `;
            document.getElementById("result").innerHTML = result;
        }

        // 頁面載入時生成一次
        window.onload = generateBreakfast;
    </script>
</body>
</html>
